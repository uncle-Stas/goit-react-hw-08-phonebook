"use strict";(self.webpackChunkgoit_react_hw_03_phonebook=self.webpackChunkgoit_react_hw_03_phonebook||[]).push([[849],{7111:function(e,t,n){n.d(t,{Z:function(){return o}});var a="Section_section__2eHmY",r="Section_container__L4+gU",s=n(184),o=function(e){var t=e.children;return(0,s.jsx)("section",{className:a,children:(0,s.jsx)("div",{className:r,children:t})})}},5849:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(7762),r=n(4942),s=n(1413),o=n(885),i="ContactForm_form__tEuIk",c="ContactForm_inputLabel__58joB",u=n(5562),l=n(2791),d=n(8431),f=n(1712),m=n(184);u.Notify.init({position:"center-top"});var h={name:"",number:""},x=function(){var e=(0,l.useState)(h),t=(0,o.Z)(e,2),n=t[0],x=t[1],p=(0,d.wY)().data,j=(0,d.Tn)(),_=(0,o.Z)(j,2),g=_[0],b=_[1],v=b.isLoading,C=b.isSuccess,w=b.isError,y=function(e){var t=e.target,n=t.name,a=t.value;x((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},n,a))}))};return(0,l.useEffect)((function(){C&&(u.Notify.success("".concat(n.name,", added to phonebook")),x(h))}),[C]),(0,l.useEffect)((function(){w&&u.Notify.failure("Oops, something went wrong...")}),[w]),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.name,r=n.number;if(function(e){var t,n=0,r=(0,a.Z)(p);try{for(r.s();!(t=r.n()).done;)if(t.value.name.toLowerCase()===e.toLowerCase()){n=1;break}}catch(s){r.e(s)}finally{r.f()}return n}(t))return u.Notify.failure("".concat(t,", is alredy in contacts"));g({name:t,number:r}),e.target.reset()},className:i,children:[(0,m.jsxs)("label",{className:c,children:["Name",(0,m.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:y,placeholder:"Enter name",autoComplete:"off",minLength:3,value:n.name})]}),(0,m.jsxs)("label",{className:c,children:["Number",(0,m.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:y,placeholder:"Enter phone number",autoComplete:"off",value:n.phone})]}),(0,m.jsx)(f.Z,{type:"submit",text:"add contact",isLoading:v})]})},p="ContactsList_contactsList__P1+X3",j=function(e){var t=e.text;return(0,m.jsx)("p",{children:(0,m.jsx)("b",{children:t})})},_="ContactItem_contactItem__wfw6G",g="ContactItem_itemText__Qy-jl",b=function(e){var t=e.id,n=e.name,a=e.number,r=(0,d.Nt)(),s=(0,o.Z)(r,2),i=s[0],c=s[1],h=c.isLoading,x=c.isSuccess,p=c.isError;return(0,l.useEffect)((function(){x&&u.Notify.info("".concat(n," - was removed"))}),[n,x]),(0,l.useEffect)((function(){p&&u.Notify.failure("Oops, something went wrong...")}),[p]),(0,m.jsxs)("li",{className:_,children:[(0,m.jsxs)("span",{className:g,children:[n,": ",a]}),(0,m.jsx)(f.Z,{type:"button",text:"delete",onClick:function(){i(t)},isLoading:h})]})},v=n(5048),C=function(e){return e.filter},w=n(4098),y=n(6839),N=(n(5862),function(){var e=(0,d.wY)(),t=e.data,n=e.error,a=e.isLoading,r=e.isSuccess;(0,l.useEffect)((function(){return function(){w.h.dispatch(d.Rg.util.resetApiState())}}),[]);var o,i=(0,v.v9)(C),c=(o=t,i?o.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})):o);return null!==t&&void 0!==t&&t.length?c.length?(0,m.jsxs)(m.Fragment,{children:[n&&(0,m.jsx)(j,{text:n.data}),r&&(0,m.jsx)("ul",{className:p,children:c.map((function(e){return(0,m.jsx)(b,(0,s.Z)({},e),e.id)}))})]}):(0,m.jsx)(j,{text:"".concat(i," - is not in your phone book. Please add new contact.")}):(0,m.jsxs)(m.Fragment,{children:[a&&(0,m.jsx)(y.y,{highlightColor:"#000000",children:(0,m.jsx)(y.Z,{})}),(0,m.jsx)(j,{text:"You don't have contacts in the phone book. Please add new contacts."})]})}),Z="ContactsFilter_title__8q3q3",L="ContactsFilter_filterLabel__r2j+Y",k=n(3664),E=function(){var e=(0,v.I0)(),t=(0,v.v9)(C);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:Z,children:"Contacts"}),(0,m.jsxs)("label",{className:L,children:["Search contacts by name:",(0,m.jsx)("input",{type:"text",placeholder:"Enter name",onChange:function(t){var n=t.target.value;e((0,k.T)(n))},value:t})]})]})},F=n(7111),S=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(F.Z,{children:(0,m.jsx)(x,{})}),(0,m.jsx)(F.Z,{children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E,{}),(0,m.jsx)(N,{})]})})]})}}}]);
//# sourceMappingURL=849.4af0fc1b.chunk.js.map